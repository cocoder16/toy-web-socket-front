메인 페이지 하나만 존재, 라우팅 필요 X
웹 진입시 유저네임 작성 UI 띄움. 넘기면 "익명"이 됨.
유저네임은 타유저와 중복 가능.
네임작성 이후에는 채팅 인터페이스가 뜸.
채팅 인터페이스는 대화내용, 대화작성, 보내기버튼으로 구성됨.
방 진입부터 소켓에 연결되며, 연결된 순간부터 메시지를 실시간으로 주고받음. 연결되기 이전 대화 내역은 받지 않음.
대화 메시지는 유저네임: 메시지 시간 으로 구성됨.
대화창에는 스크롤이 적용됨.
방 나가기를 누르면 소켓연결을 끊음. 다시 유저네임 작성하는 UI로 돌아감.

-----------

log

LogIn 컴포넌트 퍼블리싱 O
건너뛰기 버튼 O
채팅 인터페이스 퍼블리싱 O
로그인으로 돌아가기 O
닉네임 입력 상태관리 O
닉네임 서브밋 O
건너뛰기 일때 닉네임 익명 O
메시지 입력 글자수 제한 O
(수정) 두 페이지 합치기 O
방 참여 메시지 띄우기 O
timestamp 추가 O
왜 닉네임 인풋에서 엔터를 누르고 있으면 계속 콜백실행되는지? boolean ref로 엔터키 이벤트 fire제어 O
socket test code도 usecontext에 맞게 수정? O
입력한 메시지 전송 O
socket test code 잘못쓰고 있었음 실제 함수가 아닌 mock을 써야함. 안그럼 실제 서버에서 받아버리니까, 서버의존성이 생겨버림. (서버의존성 없는지 확인하려면 서버 끄고 테스트 돌려) O
event type도 여러군데에서 사용되니 config에서 변수로 관리 O
JOIN_ROOM, UPDATE_NICKNAME(prev(ref) -> nickname(state)) 이벤트 분리 O (test)
LEAVE 이벤트 emit (test)
도메인 주소 환경변수로 관리 O
엔터 서브밋 (닉네임 O, 메시지 O)
서버로부터 메시지 받기 {닉네임, 내용, 시각}을 배열로 state에 저장 O (test)
스크롤 적용 O (test)

소켓 서버에서 여러 방에 대해 제어
소켓 서버에서 emit 을 룸이 아니라 특정 개인에게 보내기. (어떤 기능으로 해볼까)

-- 21.12.10

test code들 제거.
1. socket server는 mocking 해야하고 실제 서버에 요청을 보내면 안된다.
2. request는 intercept하고 response는 stub한다.
3. cypress를 사용하자.
